
<!DOCTYPE html>
<html lang="en">
  <!--
    This is the head section of the HTML document. It contains metadata and
    CSS styles for the page. The metadata includes the character encoding,
    viewport settings, and the page title. The CSS styles define the layout
    and visual appearance of the page, including the colors, fonts, and
    padding/margin settings.

    The styles for the navigation bar, main content area, and calculator
    container are defined here. The styles for the verification form elements
    are also defined here.

    The media query for mobile devices is also defined here, which hides the
    navigation links and reduces the padding on the main content area.
  -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Verification Results - Hakikisha Verifier</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.7.1/nouislider.min.js"></script>    <style>
        :root {
            --primary-color: #0070f3;
            --secondary-color: #0366d6;
            --background-color: #f5f5f5;
            --card-background: #ffffff;
            --text-color: #333333;
            --shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }

        body {
            background-color: var(--background-color);
        }

        .nav-container {
            background: white;
            box-shadow: var(--shadow);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
        }

        .nav-links a.active {
            color: var(--primary-color);
        }

        main {
            margin-top: 80px;
            padding: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .calculator-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-color);
            font-weight: bold;
        }

        .input-group input {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .calculate-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 1rem;
            margin-top: 1rem;
        }

        .calculate-btn:hover {
            background-color: var(--secondary-color);
        }

        .results-display {
            margin-top: 2rem;
            padding: 1rem;
            border: 2px solid var(--primary-color);
            border-radius: 4px;
            display: none;
        }

        .results-display.show {
            display: block;
        }

        .result-item {
            margin: 0.5rem 0;
            padding: 0.5rem;
            background-color: var(--background-color);
            border-radius: 4px;
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            main {
                padding: 1rem;
            }
        }

        /* New styles for verification form elements */
        .checkbox-group {
            margin: 10px 0;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .checkbox-group input[type="checkbox"] {
            margin-right: 5px;
        }

        .input-group input[type="text"],
        .input-group input[type="number"],
        .input-group input[type="date"] {
            margin-bottom: 10px;
        }

        .form-select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            background-color: white;
            margin-bottom: 10px;
        }

        .form-select:disabled {
            background-color: #f5f5f5;
            cursor: not-allowed;
        }

        .input-group label {
            display: block;
            margin-top: 15px;
            margin-bottom: 8px;
            font-weight: bold;
            color: var(--text-dark);
        }

        #specificLocation {
            margin-top: 10px;
            width: 100%;
        }
 /* Storage Slider Styles */
 .storage-slider-container {
     margin: 15px 0;
     padding: 10px;
     background: #f5f5f5;
     border-radius: 8px;
 }
 
 input[type="range"] {
     width: 100%;
     height: 8px;
     background: linear-gradient(to right, #ff4d4f, #faad14, #52c41a);
     border-radius: 4px;
     outline: none;
     -webkit-appearance: none;
 }
 
 input[type="range"]::-webkit-slider-thumb {
     -webkit-appearance: none;
     width: 20px;
     height: 20px;
     background: white;
     border: 2px solid #1890ff;
     border-radius: 50%;
     cursor: pointer;
     transition: all 0.3s;
 }
 
 input[type="range"]::-webkit-slider-thumb:hover {
     background: #1890ff;
 }
 
 .slider-labels {
     display: flex;
     justify-content: space-between;
     margin-top: 8px;
     color: #666;
     font-size: 0.9em;
 }
 
 .storage-description {
     margin-top: 10px;
     padding: 8px;
     border-radius: 4px;
     text-align: center;
     font-weight: 500;
     transition: all 0.3s;
 }       
/* Origin Slider Styles */
.origin-slider-container {
    margin: 20px 0;
    padding: 20px 0;
}

#originSlider {
    height: 18px;  /* Increased height to accommodate handle */
    margin: 20px 0;
    border-radius: 0;
    padding-top: 20px;
}

#originSlider .noUi-connect {
    background: var(--primary-color);
}

#originSlider .noUi-handle {
    width: 18px;
    height: 18px;
    border-radius: 0;
    background: #2980b9;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    cursor: pointer;
    top: 0;  /* Changed to align with track */
    right: -9px;
}

#originSlider .noUi-handle:before,
#originSlider .noUi-handle:after {
    display: none;  /* Remove default lines in handle */
}

#originDescription {
    text-align: center;
    margin-top: 10px;
    font-weight: bold;
    color: var(--primary-color);
}

/* Add these new styles to fix the overlapping */
#originSlider .noUi-pips {
    padding-top: 5px;
}

#originSlider .noUi-value {
    font-size: 12px;
    padding-top: 15px;
    white-space: nowrap;
}

#originSlider .noUi-marker {
    margin-top: 5px;
}

/* Slider instruction text */
.slider-instruction {
    font-size: 12px;
    color: #666;
    margin-bottom: 10px;
    font-style: italic;
}
/* Weight Verification Styles */
.verification-result {
    margin-top: 10px;
    padding: 8px;
    border-radius: 4px;
    font-weight: 500;
    background-color: #f8f9fa;
}

#weightResult {
    margin-top: 10px;
    font-size: 14px;
}
   /* Menu Styles */
   .menu-container {
        background: white;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        padding: 15px 0;
        margin-bottom: 30px;
    }

    .menu {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        justify-content: space-around;
        align-items: center;
        list-style: none;
        padding: 0;
    }

    .menu-item {
        position: relative;
    }

    .menu-link {
        color: #333;
        text-decoration: none;
        padding: 10px 20px;
        font-weight: 500;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .menu-link:hover {
        color: var(--primary-color);
    }

    .menu-link.active {
        color: var(--primary-color);
        border-bottom: 2px solid var(--primary-color);
    }

    .menu-icon {
        font-size: 18px;
    }

    /* Responsive Menu */
    @media (max-width: 768px) {
        .menu {
            flex-direction: column;
            gap: 15px;
        }

        .menu-link {
            padding: 8px 15px;
        }
    }
    </style>
    
</head>
<body>
    <div class="menu-container">
        <ul class="menu">
            <li class="menu-item">
                <a href="index.html" class="menu-link">
                    <span class="menu-icon">üè†</span>
                    Home
                </a>
            </li>
            <li class="menu-item">
                <a href="Verify.html" class="menu-link">
                    <span class="menu-icon">‚úì</span>
                    Verify
                </a>
            </li>
            <li class="menu-item">
                <a href="results.html" class="menu-link active">
                    <span class="menu-icon">üìä</span>
                    Results
                </a>
            </li>
            <li class="menu-item">
                <a href="orders.html" class="menu-link">
                    <span class="menu-icon">üì¶</span>
                    Orders
                </a>
            </li>
            <li class="menu-item">
                <a href="vendors.html" class="menu-link">
                    <span class="menu-icon">üë•</span>
                    Vendors
                </a>
            </li>
        </ul>
    </div>    
    <div class="nav-container">
        <nav>
            <div class="logo">
                <h1>Hakikisha Verifier</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="Verify.html">Verify</a></li>
                <li><a href="results.html" class="active">Results</a></li>
                <li><a href="vendors.html">Cement Vendors</a></li>
                <li><a href="orders.html">Order Cement</a></li>
            </ul>
        </nav>
    </div>

    <main>
        <div class="calculator-container">
            <h2>Cement Verification Calculator</h2>
<form id="verificationForm">
    <!-- Brand Verification Section -->
    <div class="input-group">
        <label for="manufacturerSelect">Select Manufacturer:</label>
        <select id="manufacturerSelect" class="form-select" required>
            <option value="">Choose a manufacturer...</option>
            <option value="bamburi">Bamburi Cement Limited</option>
            <option value="mombasa">Mombasa Cement Limited</option>
            <option value="eapc">East African Portland Cement Company</option>
            <option value="national">National Cement Company Limited</option>
            <option value="savannah">Savannah Cement Limited</option>
            <option value="rai">Rai Cement Limited</option>
            <option value="karsan">Karsan Ramji & Sons Ltd</option>
        </select>

        <label for="brandSelect">Select Brand:</label>
        <select id="brandSelect" class="form-select" required disabled>
            <option value="">First select a manufacturer...</option>
        </select>
    </div>

    <!-- Location Verification Section -->
    <div class="input-group">
        <label for="locationInput">Location Details:</label>
        <select id="countySelect" class="form-select" required>
            <option value="">Select County...</option>
            <option value="nairobi">Nairobi</option>
            <option value="mombasa">Mombasa</option>
            <option value="kisumu">Kisumu</option>
            <option value="nakuru">Nakuru</option>
            <option value="uasin-gishu">Uasin Gishu</option>
            <!-- Add more counties as needed -->
        </select>
        <input type="text" id="specificLocation" placeholder="Enter specific location/town" required>
    </div>
    <div class="input-group">
        <label>Cement Origin:</label>
        <div class="slider-instruction">Slide or click options to select cement origin</div>
        <div class="origin-slider-container">
            <div id="originSlider"></div>
            <div id="originDescription"></div>
        </div>
    </div>
    <!-- Weight Verification Section -->
  <div class="input-group">
      <label>Weight Verification:</label>
      <input type="number" id="declaredWeight" placeholder="Enter declared weight (kg)" required>
      <input type="number" id="actualWeight" placeholder="Enter actual weight (kg)" required>
      <div id="weightResult" class="verification-result"></div>
  </div>

    <!-- Strength Verification Section -->
    <div class="input-group">
        <label>Strength Class:</label>
        <select id="strengthClass" class="form-select" required>
            <option value="">Select strength class...</option>
            <option value="32.5">32.5 (Residential)</option>
            <option value="42.5">42.5 (Commercial)</option>
            <option value="52.5">52.5 (Heavy Infrastructure)</option>
        </select>
        <label>Intended Use:</label>
        <select id="intendedUse" class="form-select" required>
            <option value="">Select intended use...</option>
            <option value="residential">Residential Construction</option>
            <option value="commercial">Commercial Building</option>
            <option value="infrastructure">Infrastructure Project</option>
        </select>
    </div>

    <!-- KEBS Verification Section -->
    <div class="input-group">
        <label>KEBS Verification:</label>
        <input type="text" id="kebsSticker" placeholder="Enter KEBS sticker code" required>
        <input type="text" id="batchNumber" placeholder="Enter batch number" required>
        <div class="checkbox-group">
            <input type="checkbox" id="stickerPresent"> <label for="stickerPresent">KEBS Sticker Present</label>
            <input type="checkbox" id="stickerIntact"> <label for="stickerIntact">Sticker Intact/Not Tampered</label>
        </div>
    </div>

    <!-- Date Verification Section -->
<div class="input-group">
    <label>Manufacturing Date:</label>
    <input type="date" id="manufactureDate" required>
    <label>Storage Conditions:</label>
    <div class="storage-slider-container">
        <input type="range" id="storageCondition" min="0" max="3" step="1" value="0">
        <div class="slider-labels">
            <span>Poor</span>
            <span>Fair</span>
            <span>Good</span>
            <span>Excellent</span>
        </div>
        <div id="storageDescription" class="storage-description"></div>
    </div>
</div>
    <button type="submit" class="calculate-btn">Verify Cement Product</button>
</form>
            <div class="results-display" id="resultsDisplay">
                <h3>Verification Results</h3>
                <div class="result-item" id="overallScore"></div>
                <div class="result-item" id="brandResult"></div>
                <div class="result-item" id="locationResult"></div>
                <div class="result-item" id="weightResult"></div>
                <div class="result-item" id="strengthResult"></div>
                <div class="result-item" id="kebsResult"></div>
                <div class="result-item" id="dateResult"></div>
                <div class="result-item" id="recommendation"></div>
            </div>
        </div>
    </main>

<script>
const brandOptions = {
    bamburi: ['Nguvu', 'Duracem', 'Powerplus'],
    mombasa: ['Nyumba', 'Power Plus', 'Mukwano'],
    eapc: ['Blue Triangle', 'EAPC Plus'],
    national: ['Simba Cement', 'Nyati'],
    savannah: ['Savannah Premium', 'Savannah Plus'],
    rai: ['Rai Cement'],
    karsan: ['Ndovu Cement']
};

    // Get form elements
    const form = document.getElementById('verificationForm');
    const manufacturerSelect = document.getElementById('manufacturerSelect');
    const brandSelect = document.getElementById('brandSelect');
    const resultsDisplay = document.getElementById('resultsDisplay');

    // Update brand options when manufacturer is selected
    manufacturerSelect.addEventListener('change', function() {
        const selectedManufacturer = this.value;
        
        // Clear current brand options
        brandSelect.innerHTML = '';
        
        if (selectedManufacturer) {
            // Enable brand select
            brandSelect.disabled = false;
            
            // Add default option
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'Select brand...';
            brandSelect.appendChild(defaultOption);
            
            // Add brand options for selected manufacturer
            const brands = brandOptions[selectedManufacturer] || [];
            brands.forEach(brand => {
                const option = document.createElement('option');
                option.value = brand.toLowerCase().replace(/\s+/g, '-');
                option.textContent = brand;
                brandSelect.appendChild(option);
            });
        } else {
            // Disable brand select if no manufacturer selected
            brandSelect.disabled = true;
            const defaultOption = document.createElement('option');
            defaultOption.value = '';
            defaultOption.textContent = 'First select a manufacturer...';
            brandSelect.appendChild(defaultOption);
        }
    });
    // Calculate verification scores
    function calculateScores() {
        let scores = {
            brand: 0,
            location: 0,
            weight: 0,
            strength: 0,
            kebs: 0,
            date: 0
        };

        // Brand Verification (20 points)
        if (manufacturerSelect.value && brandSelect.value) {
            scores.brand = 20;
        }

        // Location Verification (20 points)
        const locationScore = calculateLocationScore();
        scores.location = locationScore;

        // Weight Verification (15 points)
        const weightScore = calculateWeightScore();
        scores.weight = weightScore;

        // Strength Verification (15 points)
        const strengthScore = calculateStrengthScore();
        scores.strength = strengthScore;

        // KEBS Verification (20 points)
        const kebsScore = calculateKebsScore();
        scores.kebs = kebsScore;

        // Date Verification (10 points)
        const dateScore = calculateDateScore();
        scores.date = dateScore;

        return scores;
    }

    function calculateLocationScore() {
        let score = 0;
        if (document.getElementById('countySelect').value) score += 5;
        if (document.getElementById('specificLocation').value) score += 5;
        if (document.getElementById('directFactory').checked) score += 10;
        else if (document.getElementById('authorizedDealer').checked) score += 7;
        else if (document.getElementById('retailer').checked) score += 5;
        return score;
    }

    function calculateWeightScore() {
        let score = 0;
        const weight = parseFloat(document.getElementById('actualWeight').value);
        const tolerance = document.getElementById('weightTolerance').value;

        if (weight >= 49.5 && weight <= 50.5) score += 15;
        else if (weight >= 49 && weight <= 51) score += 10;
        else score += 5;

        return score;
    }

    function calculateStrengthScore() {
        let score = 0;
        const strengthClass = document.getElementById('strengthClass').value;
        const intendedUse = document.getElementById('intendedUse').value;

        if (strengthClass && intendedUse) {
            score += 7;
            // Check if strength class matches intended use
            if ((strengthClass === '32.5' && intendedUse === 'residential') ||
                (strengthClass === '42.5' && intendedUse === 'commercial') ||
                (strengthClass === '52.5' && intendedUse === 'infrastructure')) {
                score += 8;
            }
        }

        return score;
    }

    function calculateKebsScore() {
        let score = 0;
        if (document.getElementById('kebsSticker').value) score += 5;
        if (document.getElementById('batchNumber').value) score += 5;
        if (document.getElementById('stickerPresent').checked) score += 5;
        if (document.getElementById('stickerIntact').checked) score += 5;
        return score;
    }
    function calculateDateScore() {
        let score = 0;
        if (document.getElementById('manufactureDate').value) score += 4;
        
        // Get storage condition score (0-3 from slider)
        const storageValue = parseInt(document.getElementById('storageCondition').value);
        score += storageValue * 2; // Each level is worth 2 points (max 6 points)
        
        return score;
    }
    // Form submission handler
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const scores = calculateScores();
        const totalScore = Object.values(scores).reduce((a, b) => a + b, 0);
        
        // Update results display
        resultsDisplay.innerHTML = `
            <h3>Verification Results</h3>
            <div class="result-item">Brand Verification: ${scores.brand}/20</div>
            <div class="result-item">Location Verification: ${scores.location}/20</div>
            <div class="result-item">Weight Verification: ${scores.weight}/15</div>
            <div class="result-item">Strength Verification: ${scores.strength}/15</div>
            <div class="result-item">KEBS Verification: ${scores.kebs}/20</div>
            <div class="result-item">Date Verification: ${scores.date}/10</div>
            <div class="result-item" style="font-weight: bold; font-size: 1.2em;">
                Overall Score: ${totalScore}/100
            </div>
            <div class="result-item" style="margin-top: 1rem;">
                ${getRecommendation(totalScore)}
            </div>
        `;
        
        resultsDisplay.classList.add('show');
    });

    function getRecommendation(score) {
        if (score >= 90) {
            return '<span style="color: #00a854;">‚úì This cement product appears to be authentic and safe to use.</span>';
        } else if (score >= 70) {
            return '<span style="color: #faad14;">‚ö† This cement product shows some signs of concern. Verify with the manufacturer.</span>';
        } else {
            return '<span style="color: #f5222d;">‚ö† Warning: This cement product shows significant signs of potential counterfeiting. Do not use.</span>';
        }
    }

    // Storage slider functionality
    const storageSlider = document.getElementById('storageCondition');
    const storageDescription = document.getElementById('storageDescription');

    storageSlider.addEventListener('input', function() {
        const value = parseInt(this.value);
        let description = '';
        let color = '';
        
        switch(value) {
            case 0:
                description = 'Poor: High risk of moisture damage';
                color = '#ff4d4f';
                break;
            case 1:
                description = 'Fair: Basic coverage provided';
                color = '#faad14';
                break;
            case 2:
                description = 'Good: Proper dry storage';
                color = '#52c41a';
                break;
            case 3:
                description = 'Excellent: Ideal storage conditions';
                color = '#52c41a';
                break;
        }
        
        storageDescription.textContent = description;
        storageDescription.style.backgroundColor = color + '20';
        storageDescription.style.color = color;
    });
    
    // Trigger initial description
    storageSlider.dispatchEvent(new Event('input'));
// Origin slider initialization
var originSlider = document.getElementById('originSlider');
var originDescription = document.getElementById('originDescription');

noUiSlider.create(originSlider, {
    start: 0,
    step: 1,
    range: {
        'min': 0,
        'max': 2
    },
    pips: {
        mode: 'values',
        values: [0, 1, 2],
        density: 50,
        format: {
            to: function(value) {
                const origins = ['From Factory', 'From Authorized Dealer', 'From Retailer'];
                return origins[value];
            }
        }
    }
});

// Update description when slider value changes
originSlider.noUiSlider.on('update', function(values, handle) {
    const origins = ['From Factory', 'From Authorized Dealer', 'From Retailer'];
    originDescription.textContent = origins[Math.round(values[handle])];
});

// Make pips clickable
var pips = originSlider.querySelectorAll('.noUi-value');
function clickOnPip() {
    var value = Number(this.getAttribute('data-value'));
    originSlider.noUiSlider.set(value);
}

for (var i = 0; i < pips.length; i++) {
    pips[i].style.cursor = 'pointer';
    pips[i].addEventListener('click', clickOnPip);
}
    // Weight verification calculation
    const declaredWeightInput = document.getElementById('declaredWeight');
    const actualWeightInput = document.getElementById('actualWeight');
    const weightResult = document.getElementById('weightResult');
    
    function calculateWeightVerification() {
        const declaredWeight = parseFloat(declaredWeightInput.value);
        const actualWeight = parseFloat(actualWeightInput.value);
        
        if (!isNaN(declaredWeight) && !isNaN(actualWeight)) {
            const tolerance = 0.02; // 2% tolerance
            const lowerLimit = declaredWeight * (1 - tolerance);
            const upperLimit = declaredWeight * (1 + tolerance);
            
            if (actualWeight >= lowerLimit && actualWeight <= upperLimit) {
                weightResult.textContent = '‚úì Weight is within acceptable range';
                weightResult.style.color = '#27ae60';
            } else {
                const deviation = Math.abs(((actualWeight - declaredWeight) / declaredWeight) * 100).toFixed(1);
                weightResult.textContent = `‚ö† Weight deviation is ${deviation}% from declared weight`;
                weightResult.style.color = '#e74c3c';
            }
        } else {
            weightResult.textContent = '';
        }
    }
    
    declaredWeightInput.addEventListener('input', calculateWeightVerification);
    actualWeightInput.addEventListener('input', calculateWeightVerification);
    <!-- Add this JavaScript at the end of your <script> section -->
<script>
    // Highlight current page in menu
    document.addEventListener('DOMContentLoaded', function() {
        const currentPage = window.location.pathname.split('/').pop();
        const menuLinks = document.querySelectorAll('.menu-link');
        
        menuLinks.forEach(link => {
            if (link.getAttribute('href') === currentPage) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });
    });
</script>
    </body>
</html>
